package com.techland.paypay.wallet.factories;import com.techland.paypay.contracts.PayPayEvent;import java.sql.Timestamp;import com.fasterxml.jackson.databind.JsonNode;import com.fasterxml.jackson.databind.ObjectMapper;import com.techland.paypay.wallet.events.MerchantAddedEvent;public class EventFactory {static PayPayEvent paypayEvent;	public EventFactory(PayPayEvent evt) { paypayEvent = evt;} @SuppressWarnings("unchecked") public static <T extends PayPayEvent> T getEvent(String event,String name,String eventId) {try {if ("Merchant.MerchantAddedEvent".equals(name)){ObjectMapper mapper = new ObjectMapper();JsonNode actualObj = mapper.readTree(event);Timestamp t;if(actualObj.has("timestamp"))t = new Timestamp(actualObj.get("timestamp").asLong());else t =new Timestamp(System.currentTimeMillis());MerchantAddedEvent u =  new MerchantAddedEvent(actualObj.get("id").asText(),actualObj.get("name").asText(),eventId==null?actualObj.get("eventId").asText():eventId,t); return (T) u;}else {return null;}} catch (Exception e) {e.printStackTrace();return null;}}}